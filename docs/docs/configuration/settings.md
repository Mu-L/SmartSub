---
sidebar_position: 3
title: 软件设置
---

# 软件设置

妙幕（SmartSub）提供了丰富的设置选项，让您可以根据自己的需求和偏好自定义软件行为。本章节将详细介绍各项设置及其用途。

## 设置界面概览

<div className="img-container">
  <img src="/img/screenshots/settings-overview.png" alt="设置界面概览" />
</div>

妙幕的设置界面分为几个主要部分：

1. **通用设置**：基本行为和界面设置
2. **字幕生成设置**：与字幕生成相关的参数
3. **字幕翻译设置**：与字幕翻译相关的参数
4. **翻译服务**：各种翻译服务的配置
5. **高级设置**：性能调优和专业选项

## 通用设置

<div className="img-container">
  <img src="/img/screenshots/general-settings.png" alt="通用设置" />
</div>

### 界面设置

| 设置项                 | 描述                                   | 默认值   |
| ---------------------- | -------------------------------------- | -------- |
| **语言**               | 软件界面显示语言                       | 系统语言 |
| **主题**               | 界面主题（浅色/深色/跟随系统）         | 跟随系统 |
| **开始时最小化到托盘** | 软件启动时是否最小化到系统托盘         | 关闭     |
| **关闭时最小化到托盘** | 点击关闭按钮时是否最小化到托盘而非退出 | 开启     |

### 文件和目录

| 设置项             | 描述                         | 默认值                    |
| ------------------ | ---------------------------- | ------------------------- |
| **默认输出目录**   | 生成和翻译文件的默认保存位置 | 与源文件相同目录          |
| **文件命名模板**   | 输出文件的默认命名格式       | `{filename}.{lang}.{ext}` |
| **覆盖已存在文件** | 当输出文件已存在时是否覆盖   | 询问                      |

### 应用行为

| 设置项           | 描述                                   | 默认值           |
| ---------------- | -------------------------------------- | ---------------- |
| **任务完成通知** | 任务完成时是否显示系统通知             | 开启             |
| **自动检查更新** | 启动时是否自动检查软件更新             | 开启             |
| **自动保存设置** | 是否自动保存设置更改                   | 开启             |
| **音频设备**     | 识别音频使用的设备（CPU/CUDA/Core ML） | 根据系统自动选择 |

## 字幕生成设置

<div className="img-container">
  <img src="/img/screenshots/generation-settings.png" alt="字幕生成设置" />
</div>

### 基本设置

| 设置项           | 描述                              | 推荐设置                  |
| ---------------- | --------------------------------- | ------------------------- |
| **默认模型**     | 字幕生成时默认使用的 Whisper 模型 | small（平衡速度和准确性） |
| **默认语言**     | 默认识别的语言                    | 自动检测                  |
| **默认任务类型** | 默认任务类型（转录或翻译）        | 转录                      |
| **默认字幕格式** | 默认输出的字幕文件格式            | SRT                       |

### 高级生成设置

| 设置项                   | 描述                         | 推荐设置                                      |
| ------------------------ | ---------------------------- | --------------------------------------------- |
| **始终使用大写**         | 是否强制使用大写字母         | 关闭                                          |
| **保持原始段落**         | 是否保持原声中的自然段落分隔 | 开启                                          |
| **处理线程数**           | 处理任务使用的线程数量       | 根据CPU核心数设置（一般为核心数的一半到全部） |
| **允许文本分段**         | 是否允许长文本分段处理       | 开启                                          |
| **单条字幕最大持续时间** | 单条字幕的最长时长（秒）     | 5-10秒                                        |
| **限制每行长度**         | 每行字幕的最大字符数         | 40-60字符                                     |

## 字幕翻译设置

<div className="img-container">
  <img src="/img/screenshots/translation-settings.png" alt="字幕翻译设置" />
</div>

### 基本翻译设置

| 设置项           | 描述                 | 推荐设置                 |
| ---------------- | -------------------- | ------------------------ |
| **默认源语言**   | 默认的源语言         | 根据您的常用源语言       |
| **默认目标语言** | 默认的目标语言       | 根据您的常用目标语言     |
| **默认翻译服务** | 默认使用的翻译服务   | 根据您配置的翻译服务选择 |
| **输出文件格式** | 翻译后字幕的文件格式 | 与输入格式相同           |

### 高级翻译设置

| 设置项               | 描述                                   | 推荐设置                      |
| -------------------- | -------------------------------------- | ----------------------------- |
| **翻译模式**         | 输出内容的组织方式（仅翻译/原文+翻译） | 根据需求选择                  |
| **并行请求数**       | 同时发送的翻译请求数量                 | 3-5个（根据翻译服务限制调整） |
| **请求间隔(ms)**     | 相邻翻译请求之间的时间间隔             | 200-500毫秒                   |
| **单条请求字数限制** | 单次翻译请求的最大字符数               | 1000-2000字符                 |
| **支持HTML标签**     | 是否在翻译中保留HTML标签               | 如需保留格式则开启            |

## 性能和资源设置

<div className="img-container">
  <img src="/img/screenshots/performance-settings.png" alt="性能和资源设置" />
</div>

### 资源管理

| 设置项               | 描述                         | 推荐设置         |
| -------------------- | ---------------------------- | ---------------- |
| **内存使用限制**     | 应用程序的最大内存使用量     | 根据系统内存调整 |
| **临时文件目录**     | 临时文件存储位置             | 默认系统临时目录 |
| **自动清理临时文件** | 是否在任务完成后清理临时文件 | 开启             |

### 批处理设置

| 设置项             | 描述                                   | 推荐设置              |
| ------------------ | -------------------------------------- | --------------------- |
| **最大并行任务数** | 同时处理的最大文件数量                 | 1-4个（根据系统性能） |
| **预加载下一任务** | 当前任务处理时是否准备下一个任务       | 开启                  |
| **批处理完成行为** | 所有任务完成后的操作（无/通知/关机等） | 通知                  |

## 高级设置

<div className="img-container">
  <img src="/img/screenshots/advanced-settings.png" alt="高级设置" />
</div>

### 开发者选项

| 设置项           | 描述                   | 默认值 |
| ---------------- | ---------------------- | ------ |
| **调试日志**     | 是否启用详细日志记录   | 关闭   |
| **日志级别**     | 日志记录的详细程度     | INFO   |
| **日志保存天数** | 日志文件保留的天数     | 7天    |
| **强制使用CPU**  | 是否强制使用CPU而非GPU | 关闭   |

### 命令行工具

| 设置项                  | 描述                                | 默认值 |
| ----------------------- | ----------------------------------- | ------ |
| **使用本地Whisper命令** | 是否使用系统安装的Whisper命令行工具 | 关闭   |
| **Whisper命令路径**     | 本地Whisper命令的路径               | 空     |
| **自定义命令参数**      | 传递给Whisper命令的自定义参数       | 空     |

## 设置导入/导出

妙幕允许您导入和导出设置，方便在多台设备上使用相同的配置或备份您的设置：

### 导出设置

1. 在设置界面底部找到"导出设置"按钮
2. 点击后选择保存位置
3. 所有设置将被保存为JSON文件

### 导入设置

1. 在设置界面底部找到"导入设置"按钮
2. 选择之前导出的设置文件
3. 确认导入后，所有设置将被替换

:::caution 注意
导入设置会覆盖当前的所有设置，请确保在导入前备份重要配置。
:::

## 设置文件位置

妙幕的设置文件存储在以下位置：

- **Windows**: `%APPDATA%\Smart Sub\config.json`
- **macOS**: `~/Library/Application Support/Smart Sub/config.json`
- **Linux**: `~/.config/Smart Sub/config.json`

## 重置设置

如果您需要将所有设置恢复为默认值：

1. 在设置界面底部找到"重置设置"按钮
2. 点击并确认重置操作
3. 所有设置将恢复为默认值

:::warning 警告
重置设置后，所有自定义配置（包括API密钥）都将被清除，请谨慎操作。
:::

## 常见设置问题

### 设置未保存

- 确认"自动保存设置"选项已开启
- 尝试手动点击"保存设置"按钮
- 检查应用是否有写入配置文件的权限

### 性能优化设置

对于性能较弱的设备：

- 减少并行任务数和并行请求数
- 使用较小的模型（如tiny或base）
- 关闭预加载下一任务
- 限制内存使用量

对于高性能设备：

- 增加并行任务数
- 使用更准确的模型（如medium或large）
- 启用硬件加速
- 增加处理线程数
