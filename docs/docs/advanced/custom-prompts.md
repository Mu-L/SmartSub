---
sidebar_position: 3
---

# 自定义提示词

SmartSub支持通过自定义提示词(prompts)来优化字幕生成和翻译效果。合理使用提示词可以大幅提高结果质量，尤其是在处理特定领域内容或使用AI翻译服务时。本页面将指导您如何有效地使用和优化提示词。

## 什么是提示词？

提示词是提供给AI模型的额外文本指引，用于引导模型产生特定风格或内容的输出：

- **字幕生成提示词**：帮助Whisper模型更准确地识别特定术语、名称或内容
- **翻译提示词**：指导AI翻译模型如何翻译内容，包括风格、术语使用和特定要求

## 字幕生成提示词

### 在哪里设置

字幕生成提示词可以在以下位置设置：

1. 在字幕生成界面中展开"高级选项"
2. 找到"提示词"输入框
3. 输入您的自定义提示词

### 提示词效果

Whisper模型的提示词主要用于提高特定内容的识别准确率：

- **专业术语**：帮助模型正确识别专业词汇
- **人名和地名**：提高对特定名称的识别准确性
- **特定格式**：引导模型按照特定格式输出结果

### 提示词示例

以下是几个使用场景的提示词示例：

**医学内容**：
```
医学术语、药物名称、解剖学词汇、疾病诊断、治疗方案、医学专家张伟、李明
```

**技术教程**：
```
编程、Python代码、函数名称、API接口、数据结构、算法、GitHub、JavaScript、React框架
```

**体育赛事**：
```
足球比赛、梅西、C罗、欧冠联赛、射门、进球、任意球、点球、越位、红牌
```

**电影对白**：
```
角色名称：杰克、露丝、史密斯教授；场景：纽约、巴黎；情节关键词：爱情、冒险、背叛
```

### 提示词优化建议

为获得最佳效果，请遵循以下建议：

1. **简洁明了**：提示词应当简短，重点突出关键术语
2. **使用分隔符**：用逗号或分号分隔不同术语
3. **优先重要词汇**：将最重要、最容易被错误识别的术语放在前面
4. **包含常见错误**：如果某些词经常被错误识别，将正确形式加入提示词
5. **针对性强**：提示词应与当前处理的内容高度相关

## 翻译提示词

### 在哪里设置

翻译提示词可以在以下位置设置：

1. 在字幕翻译界面中展开"高级选项"
2. 找到"自定义提示词"输入框
3. 输入您的自定义提示模板

### 提示词模板变量

SmartSub支持在翻译提示词中使用以下变量：

- `{{from}}`：源语言名称
- `{{to}}`：目标语言名称
- `{{text}}`：待翻译的文本内容

这些变量会在实际翻译时自动替换为实际值。

### 基础提示词模板

以下是一个基础的翻译提示词模板：

```
你是一位精通{{from}}和{{to}}的专业翻译。请将以下{{from}}文本翻译成地道的{{to}}：

{{text}}

翻译要求：
1. 保持原文的意思和语气
2. 使译文自然流畅
3. 尊重原文的格式和标点
```

### 针对不同内容类型的提示词

**电影字幕翻译**：
```
你是一位专业的电影字幕翻译专家，精通{{from}}和{{to}}。请将以下电影对白翻译成地道的{{to}}：

{{text}}

翻译要求：
1. 保持对白的自然流畅，符合口语表达
2. 准确传达角色情感和语气
3. 俚语、习语和文化典故应当本地化处理，保留原意
4. 保持字幕简洁，适合观众快速阅读
5. 保留原文的幽默感和双关语（尽可能）
```

**技术文档翻译**：
```
你是一位专业的技术文档翻译专家，精通{{from}}和{{to}}及计算机技术领域。请将以下技术内容翻译成准确的{{to}}：

{{text}}

翻译要求：
1. 保持技术术语的准确性和一致性
2. 遵循技术领域的标准术语翻译规范
3. 保留原文的格式、标点和专业性
4. 不要漏译代码片段和技术参数
5. 优先使用该技术领域的常见表达方式
```

**医学内容翻译**：
```
你是一位医学翻译专家，精通{{from}}和{{to}}及医学术语。请将以下医学内容翻译成准确的{{to}}：

{{text}}

翻译要求：
1. 严格使用标准医学术语
2. 保持医学概念的精确性
3. 保留所有数值和单位，根据目标语言习惯调整格式
4. 遵循医学文献的写作规范
5. 不要简化或省略专业内容
```

### 提示词优化技巧

为获得最佳翻译效果，可以尝试以下技巧：

1. **指定译文风格**：明确指出需要正式、口语、技术性或创意等风格
2. **提供术语表**：对于特定术语，可在提示词中列出首选翻译
3. **明确文本类型**：指明是字幕、文档、对话等内容类型
4. **指出关键点**：强调需特别注意的方面（如格式、专业术语等）
5. **避免过长**：提示词应简明扼要，通常100-200字为宜

例如，提供术语表的提示词示例：

```
你是一位精通{{from}}和{{to}}的专业翻译。请将以下{{from}}文本翻译成地道的{{to}}：

{{text}}

请使用以下术语表进行翻译：
- "neural network" -> "神经网络"
- "deep learning" -> "深度学习"
- "batch normalization" -> "批量归一化"
- "dropout" -> "随机失活"
- "activation function" -> "激活函数"
```

## 不同翻译服务的提示词差异

不同的翻译服务对提示词的响应方式可能有所不同：

### OpenAI模型和兼容API

OpenAI API(以及兼容的服务如Azure OpenAI、DeepSeek)对提示词非常敏感，通常能够精确遵循指示：

- 支持复杂的多步骤指令
- 能理解并遵循详细的格式要求
- 可以处理术语表和特定要求

### Ollama本地模型

Ollama模型的响应取决于所使用的基础模型：

- 较大模型(如llama2-70b)能较好地遵循复杂提示词
- 较小模型可能需要更简单直接的提示词
- 建议使用更简洁明了的指令

### DeepLX

DeepLX对提示词的支持有限，建议保持提示词简单：

```
将以下文本从{{from}}翻译为{{to}}，保持专业风格：

{{text}}
```

## 提示词调试与优化

如果翻译结果不理想，可以尝试以下调试方法：

1. **与原始提示词比较**：使用默认提示词和自定义提示词比较结果
2. **渐进式改进**：从基础模板开始，逐步添加具体指令
3. **A/B测试**：准备两种略有不同的提示词，比较哪种效果更好
4. **模型切换**：同一提示词在不同模型中效果可能不同

## 常见问题

### 提示词被忽略

如果提示词似乎被忽略：

1. 确保提示词格式正确，包含必要的变量
2. 简化提示词，减少复杂性
3. 提高提示词的具体性和清晰度
4. 尝试使用更高级的模型

### 过度遵循提示词

如果模型过度遵循提示词，导致冗长或不自然的结果：

1. 减少详细说明
2. 添加"请确保翻译自然流畅"等指令
3. 去除可能导致模型复制说明的内容

### 最佳实践总结

1. **明确目标**：清楚说明翻译目标和期望
2. **简明扼要**：避免冗长的提示词
3. **提供示例**：在可能的情况下提供良好翻译的示例
4. **定期更新**：根据翻译结果持续优化提示词
5. **分域定制**：为不同内容领域准备不同提示词

## 结语

提示词优化是一个反复试验的过程。随着您对特定内容和模型的了解加深，可以不断调整提示词以获得更好的结果。对于重要或常规的翻译任务，值得花时间优化专用提示词，这将为您节省大量后期编辑时间。 