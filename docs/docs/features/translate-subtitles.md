---
sidebar_position: 2
---

# 翻译字幕

SmartSub可以将现有字幕文件翻译成多种语言，无论是通过应用生成的字幕还是从其他来源导入的字幕。本页面将指导您如何使用这一功能。

## 准备工作

在开始翻译字幕前，请确保：

1. 已成功[安装SmartSub](../getting-started/installation)
2. 已[配置至少一个翻译服务](../configuration/translation-services)
3. 准备好需要翻译的字幕文件

## 支持的字幕格式

SmartSub支持翻译以下格式的字幕文件：

- SRT (SubRip)：最常用的字幕格式
- VTT (Web Video Text Tracks)：适用于Web视频的字幕格式
- JSON：包含时间戳和文本信息的JSON格式字幕
- LRC：歌词文件格式
- TXT：纯文本格式(需包含时间码标记)

## 字幕翻译步骤

### 1. 添加字幕文件

有两种方式可以添加字幕文件：

- **拖放文件**：直接将字幕文件拖放到应用的文件区域
- **浏览文件**：点击"添加文件"按钮，通过文件浏览器选择文件
- **直接使用生成的字幕**：如果您刚刚使用SmartSub生成了字幕，可以直接在生成结果中点击"翻译"按钮

### 2. 配置翻译参数

在"字幕翻译"面板中设置以下参数：

- **源语言**：字幕的原始语言
  - 如选择"自动检测"，系统将尝试识别源语言
  - 明确指定源语言可提高翻译质量
  
- **目标语言**：要翻译成的语言
  - 从下拉菜单中选择需要的目标语言
  - 不同翻译服务支持的语言可能有所不同
  
- **翻译服务**：选择要使用的翻译服务
  - 可选择已配置的任一翻译服务
  - 每个服务的特点和适用场景不同
  
- **翻译文本格式**：选择输出的格式
  - **仅翻译**：字幕只包含翻译后的文本
  - **源文本 + 翻译**：同时包含原文和翻译(双语字幕)
  - **翻译 + 源文本**：翻译在上，原文在下
  
- **字幕文件名**：自定义翻译后字幕文件的命名规则
  - 默认格式：`{name}.{lang}.{ext}`
  - 可根据需要修改命名模式
  
- **高级选项**（点击展开）
  - **并发任务数**：同时处理的翻译任务数量
  - **分段长度**：每次翻译的文本长度，可调整以平衡翻译质量和速度
  - **自定义提示词**：针对AI翻译服务，可提供定制的提示以优化翻译效果

### 3. 开始翻译

设置完成后，点击"开始翻译"按钮开始处理。您可以在界面上看到翻译进度：

- 进度条显示整体完成进度
- 状态列显示每个文件的当前处理状态
- 完成翻译的文件会显示"已完成"状态

### 4. 查看和使用结果

翻译完成后：

- 翻译后的字幕文件将自动保存在与原始字幕文件相同的目录中
- 您可以点击"打开文件夹"按钮，直接打开包含翻译结果的文件夹
- 点击文件状态旁的"查看"按钮可以预览翻译后的字幕内容

## 批量翻译多个文件

SmartSub支持批量翻译多个字幕文件：

1. 添加多个字幕文件到文件列表
2. 配置相同的翻译参数（所有文件将使用相同的设置）
3. 点击"开始翻译"按钮
4. 系统将按照设定的并发任务数同时处理多个文件

## 双语字幕创建

创建双语字幕的两种方式：

### 方式一：使用"源文本 + 翻译"选项

1. 在翻译参数中，将"翻译文本格式"设置为"源文本 + 翻译"或"翻译 + 源文本"
2. 进行正常的翻译流程
3. 生成的字幕文件将包含原文和翻译

### 方式二：合并两个字幕文件

如果您已有两种语言的字幕文件，可以：

1. 在"工具"菜单中选择"合并字幕"功能
2. 选择两个不同语言的字幕文件
3. 设置显示顺序(哪种语言在上/下)
4. 点击"合并"按钮
5. 系统将生成一个包含两种语言的双语字幕文件

## 字幕格式转换

如需将翻译后的字幕转换为其他格式：

1. 在"工具"菜单中选择"字幕格式转换"
2. 选择要转换的字幕文件
3. 选择目标格式(SRT, VTT, LRC等)
4. 点击"转换"按钮
5. 转换后的文件将保存在与原始文件相同的目录中

## 翻译质量优化建议

为获得最佳翻译质量，请考虑以下建议：

1. **选择合适的翻译服务**：
   - 普通文本：百度翻译、火山引擎翻译等通用翻译服务
   - 专业内容：DeepL或AI模型服务(OpenAI、Ollama等)
   - 影视字幕：AI模型服务通常更能捕捉文化背景和俚语

2. **自定义提示词**：
   - 使用AI翻译服务时，提供针对内容类型的特定提示
   - 例如对于电影字幕："请保持对话的自然流畅，考虑文化背景，翻译俚语和习语时注重意义而非字面翻译"

3. **分段长度调整**：
   - 较短的分段：翻译速度更快，但可能缺乏上下文
   - 较长的分段：可能提供更好的上下文理解，但处理速度较慢
   - 对于情节连贯的内容，适当增加分段长度可提高翻译质量

4. **预处理字幕**：
   - 翻译前检查字幕格式是否正确
   - 考虑合并非常短的字幕行以提供更好的上下文

## 常见问题解决

如果在翻译过程中遇到问题：

- **翻译服务连接失败**：检查网络连接和API配置
- **翻译质量不佳**：尝试使用不同的翻译服务或调整提示词
- **处理速度慢**：减少并发任务数或调整分段长度
- **字幕格式错误**：确保导入的字幕文件格式正确，或尝试先将字幕转换为标准SRT格式

更多问题解决方案，请参考[故障排除](../faq/troubleshooting)章节。 